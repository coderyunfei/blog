(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{411:function(s,t,a){"use strict";a.r(t);var e=a(10),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"生产级别的-vue-《production-grade-vue-js》课程笔记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生产级别的-vue-《production-grade-vue-js》课程笔记"}},[s._v("#")]),s._v(" 生产级别的 vue ---《"),t("a",{attrs:{href:"https://frontendmasters.com/courses/production-vue/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Production-Grade Vue.js"),t("OutboundLink")],1),s._v("》课程笔记")]),s._v(" "),t("p",[s._v("花了 3 个小时，听了 front master 的 production-grade vue 课程，课程不错，比较基础，但是也学到了一些东西，现在总结如下。")]),s._v(" "),t("h2",{attrs:{id:"拆分组件的标识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拆分组件的标识"}},[s._v("#")]),s._v(" 拆分组件的标识")]),s._v(" "),t("p",[s._v("哪种情况下拆分组件，有时候往往没有一个清晰的边界，以下几种情况，需要拆分组件：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("发现组件难以阅读")])]),s._v(" "),t("li",[t("p",[s._v("难以简洁明确的描述组件职责")])])]),s._v(" "),t("p",[s._v("单一职责是软件设计的黄金法则。")]),s._v(" "),t("ul",[t("li",[s._v("组件内"),t("strong",[s._v("单独一段代码")]),s._v("具有自己的状态")])]),s._v(" "),t("p",[s._v("组件内有一个状态不和其他状态产生关联，可拆分成单独组件，让组件更加清晰。")]),s._v(" "),t("h2",{attrs:{id:"更好的组织你的目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更好的组织你的目录"}},[s._v("#")]),s._v(" 更好的组织你的目录")]),s._v(" "),t("p",[s._v("目录嵌套太深，不利于重构和浏览文件。")]),s._v(" "),t("p",[s._v("课程里推荐"),t("strong",[s._v("两层")]),s._v("的目录，从命名上把相关的文件组织到一起，比如：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("srr\n  components\n    DashboardHeader.vue\n    DashboardHeader.test.js\n    Dashboard.test.js\n    Dashboard.vue\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("这样命名，组件被 vscode 聚拢到一起，方便阅读。")]),s._v(" "),t("p",[s._v("但是实际上命名一直是很多人难题，很多人也不愿意花点时间，思考命名，所以我更推荐最多三层目录，把相关组件组织到单独目录下，使用 index 导出变量：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("srr\n  components\n    Dashboard "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件大写")]),s._v("\n      DashboardHeader.vue\n      DashboardHeader.test.js\n      Dashboard.test.js\n      Dashboard.vue\n      index.js "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导出相关变量")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("或者")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("srr\n  components\n    Dashboard "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件大写")]),s._v("\n      Header.vue\n      Header.test.js\n      Dashboard.test.js\n      Dashboard.vue\n      index.js "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导出相关变量")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"如何解决-props-base-设计的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何解决-props-base-设计的问题"}},[s._v("#")]),s._v(" 如何解决 props-base 设计的问题")]),s._v(" "),t("p",[s._v("props-base 设计方法面对简单的功能时，可胜任，但是所有组件的功能都通过 props 来实现，props 就会变得很多，或者层层传递 props，造成 props 钻井。")]),s._v(" "),t("p",[s._v("具体来说，props-base 设计有这些问题：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("新功能会增加复杂性")])]),s._v(" "),t("li",[t("p",[s._v("职责不单一")])]),s._v(" "),t("li",[t("p",[s._v("在模板中会出现大量"),t("code",[s._v("v-if")])])]),s._v(" "),t("li",[t("p",[s._v("难以扩展")])]),s._v(" "),t("li",[t("p",[s._v("难以维护")])]),s._v(" "),t("li",[t("p",[s._v("难以使用")])])]),s._v(" "),t("h3",{attrs:{id:"transparent-component-透明组件-可减缓上述问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#transparent-component-透明组件-可减缓上述问题"}},[s._v("#")]),s._v(" transparent component （透明组件）可减缓上述问题")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("template")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("text"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("v-on")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("$listeners"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("v-bind")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("{...$attrs,...$props}"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("template")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token script"}},[t("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("inheritAttrs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("blockquote",[t("p",[s._v("通过 "),t("code",[s._v('v-on="$listeners"')]),s._v(" 和 "),t("code",[s._v('v-bind="{...$attrs,...$props}"')]),s._v(" 可绑定多个事件和多个值。")])]),s._v(" "),t("h3",{attrs:{id:"provide-和-inject"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#provide-和-inject"}},[s._v("#")]),s._v(" provide 和 inject")]),s._v(" "),t("p",[s._v("通过 provide 和 inject 可轻松在跨级组件之间共享数据，减缓 props 钻井问题。")]),s._v(" "),t("blockquote",[t("p",[s._v("provide 和 inject 在 vue 插件中才能才能发挥其巨大威力，在业务项目中使用多了，会导致数据来源不清楚，应少用。")])]),s._v(" "),t("h2",{attrs:{id:"vue-meta-在路由中的使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue-meta-在路由中的使用"}},[s._v("#")]),s._v(" vue-meta 在路由中的使用")]),s._v(" "),t("p",[s._v("这个网站的 seo 有关，感觉不够实用。")]),s._v(" "),t("h2",{attrs:{id:"如何确保用户导航到某个路由自己都重新渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何确保用户导航到某个路由自己都重新渲染"}},[s._v("#")]),s._v(" 如何确保用户导航到某个路由自己都重新渲染？")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("router-view")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v(":key")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("$route.fullPath"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"测试最佳实践"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试最佳实践"}},[s._v("#")]),s._v(" 测试最佳实践")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("不测 vue，比如测试生命周期函数的调用")])]),s._v(" "),t("li",[t("p",[s._v("使用生成器生成模板代码，比如"),t("code",[s._v("plop.js")])])])]),s._v(" "),t("h2",{attrs:{id:"如何制定团队的最佳实践-规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何制定团队的最佳实践-规范"}},[s._v("#")]),s._v(" 如何制定团队的最佳实践 --- 规范")]),s._v(" "),t("ul",[t("li",[s._v("选择最佳实践")])]),s._v(" "),t("p",[s._v("没有时间讨论最佳实践或者不知道有哪些最佳实践，就直接选择一个社区的规范。")]),s._v(" "),t("ul",[t("li",[s._v("实现最佳实践")])]),s._v(" "),t("p",[s._v("配置 lint prettier 等工具让规范自动约束开发者的行为。")]),s._v(" "),t("p",[s._v("linter --- styleLint eslint markdownlint")]),s._v(" "),t("p",[s._v("formatter --- prettier")]),s._v(" "),t("p",[s._v("代码模板生产成--- plop")]),s._v(" "),t("p",[s._v("编辑器设置 --- .vscode")]),s._v(" "),t("ul",[t("li",[s._v("如何执行规范")])]),s._v(" "),t("p",[s._v("保证你的情绪稳定、不要责怪他人、找到系统的解决方案、有能力，就要保护你的成员")]),s._v(" "),t("h2",{attrs:{id:"可访问性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可访问性"}},[s._v("#")]),s._v(" 可访问性")]),s._v(" "),t("p",[t("code",[s._v("eslint-plugin-a11y")]),s._v("可帮助检查。")]),s._v(" "),t("h2",{attrs:{id:"vue-代码最佳实践"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue-代码最佳实践"}},[s._v("#")]),s._v(" vue 代码最佳实践")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://vue-styleguidist.github.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vue Styleguidist"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("这个有点繁琐了，进度不允许写这么多注释。")]),s._v(" "),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),t("p",[s._v("这个课程没有想象中的好，只推荐 vue 使用 2 年内的看。")])])}),[],!1,null,null,null);t.default=n.exports}}]);