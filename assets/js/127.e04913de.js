(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{405:function(s,a,t){"use strict";t.r(a);var e=t(10),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"vue-项目路由在-history-模式下-部署在-apache-上-刷新浏览器-出现-404-如何修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-项目路由在-history-模式下-部署在-apache-上-刷新浏览器-出现-404-如何修改"}},[s._v("#")]),s._v(" vue 项目路由在 history 模式下，部署在 apache 上，刷新浏览器，出现 404，如何修改？")]),s._v(" "),a("p",[s._v("方案一：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/var/www/html\n├── .htaccess "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建这个文件")]),s._v("\n├── index.html\n└── static\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("文件内容：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("IfModule mod_rewrite.c"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n  RewriteEngine On\n  RewriteBase /\n  RewriteRule ^index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(".html$ - "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("L"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  RewriteCond %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("REQUEST_FILENAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("-f\n  RewriteCond %"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("REQUEST_FILENAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("-d\n  RewriteRule "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" /index.html "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("L"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/IfModule"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("写入这个内容也也行")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("FallbackResource /index.html\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("方案二：编辑 config 文件")]),s._v(" "),a("p",[s._v("内容为")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("VirtualHost *:8"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## ...")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Directory /var/www/html"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        Options Indexes FollowSymLinks\n        AllowOverride All\n        Require all granted\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/Directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/VirtualHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("重启服务："),a("code",[s._v("sudo service httpd restart")])]),s._v(" "),a("p",[s._v("参考：")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://chenuin.blogspot.com/2019/01/vue-history-mode.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("[Vue.js] vue-router 设定 history mode 移除网址的 #"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://router.vuejs.org/guide/essentials/history-mode.html#example-server-configurations",target:"_blank",rel:"noopener noreferrer"}},[s._v("Example Server Configurations"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);