(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{335:function(s,e,a){"use strict";a.r(e);var t=a(10),n=Object(t.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"git-使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-使用"}},[s._v("#")]),s._v(" git 使用")]),s._v(" "),e("h2",{attrs:{id:"同一台电脑上管理多-ssh-密钥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#同一台电脑上管理多-ssh-密钥"}},[s._v("#")]),s._v(" 同一台电脑上管理多 ssh 密钥")]),s._v(" "),e("p",[s._v("使用私钥推送代码到仓库，可免去输入密码等繁琐问题。在同一个设备上管理多个仓库的密钥很必要，比如公司的仓库是 gitlab，个人仓库是 github。")]),s._v(" "),e("ol",[e("li",[s._v("创建特定密钥对")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" ./ssh "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ./ssh "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在个人主目录创建一个存放密钥的目录")]),s._v("\nssh-keygen "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" rsa "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jacksMac@163.com"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" ./gitee_id_rsa "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#生成名为 gitee_id_rsa 的密钥对是给码云仓库使用的")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("blockquote",[e("p",[s._v("名字很重要，我们希望不同的仓库使用不同的密钥。一路回车")])]),s._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[s._v("拷贝公钥到码云个人设置")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("pbcopy "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" ./gitee_id_rsa.pub "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mac 上的命令 window 上用其他")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("文件内容已经复制到剪切板了，到码云粘贴即可")])]),s._v(" "),e("p",[e("strong",[s._v("其他用法：")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" pbcopy "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看文件内容并复制")]),s._v("\npbpaste "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" filename "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 粘贴到文件")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("window 下的 cmder 的复制粘贴")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("clip "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" filename "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制到剪切板")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("paste")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" filename "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 粘贴到文件")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("配置 config")])]),s._v(" "),e("blockquote",[e("p",[s._v("使用 config 文件配置私钥和仓库的对应关系。不配置不会成功")])]),s._v(" "),e("p",[s._v("config 文件没有后缀名，就叫 config，格式如下")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Host github.com  仓库域名 必需")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     HostName github.com  仓库有域名 必需")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     IdentityFile C:\\\\Users\\\\popfisher\\\\.ssh\\\\id_rsa_github # 身份认证文件，私钥路径--绝对路径 window 下路径要 \\\\")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     PreferredAuthentications publickey # 希望的认证方式 password publickey,keyboard-interactive等")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     User username1 # 用户名 可选")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("我的码云配置")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gitee")]),s._v("\nHost gitee.com\n    HostName gitee.com\n    IdentityFile xxx/xxx/.ssh/gitee_id_rsa "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用绝对路径")]),s._v("\n    PreferredAuthentications publickey\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("测试是否认证成功")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-T")]),s._v(" git@gitee.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("出现"),e("code",[s._v("Hi jackzhoumine! You've successfully authenticated, but GITEE.COM does not provide shell access.")]),s._v(" 就表示成功了。")]),s._v(" "),e("p",[s._v("出现类似 "),e("code",[s._v("Host key verification failed.")]),s._v(" 、"),e("code",[s._v("git@gitee.com: Permission denied (publickey).")]),s._v(" 就是不成功。")]),s._v(" "),e("p",[s._v("可能会出现 "),e("code",[s._v("git@gitee.com: Permission denied (publickey).")]),s._v(" 执行以下命令:")]),s._v(" "),e("blockquote",[e("p",[s._v("ssh-add ~/.ssh/gitee_id_rsa")])]),s._v(" "),e("p",[e("strong",[s._v("重复以上方式，配置 github 仓库")]),s._v("，最后成功了！")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("╰─$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-T")]),s._v(" git@github.com\nHi jackchoumine"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" You've successfully authenticated, but GitHub does not provide shell access.\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"可能的报错"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#可能的报错"}},[s._v("#")]),s._v(" 可能的报错")]),s._v(" "),e("p",[e("code",[s._v("but GitHub does not provide shell access.")]),s._v("，出现这个，使用 https 设置远程的 origin，会推送失败，两种解决办法：")]),s._v(" "),e("p",[s._v("① 使用 ssh 协议，推荐；")]),s._v(" "),e("p",[s._v("② 执行"),e("code",[s._v("git pull origin master --allow-unrelated-histories")]),s._v(",再 push。")]),s._v(" "),e("p",[s._v("最后的 config")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# github")]),s._v("\nHost github.com\n    HostName github.com\n    IdentityFile /Users/jack/.ssh/github_id_rsa\n    PreferredAuthentications publickey\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gitee")]),s._v("\nHost gitee.com\n    HostName gitee.com\n    IdentityFile /Users/jack/.ssh./gitee_id_rsa\n    PreferredAuthentications publickey\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("blockquote",[e("p",[s._v("IdentityFile 使用绝对路径")])]),s._v(" "),e("h3",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.cnblogs.com/popfisher/p/5731232.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Windows 下 Git 多账号配置，同一电脑多个 ssh-key 的管理"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);